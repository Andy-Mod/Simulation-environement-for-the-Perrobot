<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="quadriped">

<link name="base_footprint"/>

<link name="body">
    <inertial>
        <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
        <mass value="1.0"/>
        <inertia ixx="0.0" ixy="0.0" ixz="0.0"
                 iyy="0.0" iyz="0.0"
                 izz="0.0"/>
    </inertial>
    <visual>
        <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
        <geometry>
            <mesh filename="package://quadriped_robot_simulation/meshes/solo8_v2_body.STL" scale="2 2 2"/>
        </geometry>
        <material name="white">
            <color rgba="1.0 1.0 1.0 1.0"/>
        </material>
    </visual>
    <collision>
        <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
        <geometry>
            <mesh filename="package://quadriped_robot_simulation/meshes/solo8_v2_body.STL" scale="2 2 2"/>
        </geometry>
    </collision>
</link>

<joint name="base_joint" type="fixed">
    <origin xyz="0.0 0.0 0.32" rpy="0.0 0.0 0.0"/>
    <parent link="base_footprint"/>
    <child link="body"/>
    <axis xyz="0.0 0.0 0.0"/>
</joint>


<xacro:macro name="upper_leg" params="x z side position">

    <link name="${position}_upper_leg_${side}">
        <inertial>
            <origin xyz="${x} .0 0.24" rpy="0.0 0.0 0.0"/>
            <mass value="0.5"/>
            <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
        </inertial>
        <visual name="">
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://quadriped_robot_simulation/meshes/upper_leg_${side}_side.stl" scale="2 2 2"/>
            </geometry>
            <material name="yellow">
            <color rgba="1.0 0.0 0.0 1.0"/>
        </material>
        </visual>
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://quadriped_robot_simulation/meshes/upper_leg_${side}_side.stl" scale="2 2 2"/>
            </geometry>
        </collision>
    </link>

    <joint name="${position}_upper_leg_${side}" type="continuous">
        <origin xyz="${x} .0 ${z} " rpy="0 0.0 0.0"/>
        <parent link="body"/>
        <child link="${position}_upper_leg_${side}"/>
        <axis xyz=".0 .0 1.0"/>
    </joint>

</xacro:macro>

<xacro:macro name="lower_leg" params="x z position side">

    <link name="${position}_lower_leg_${side}">
        <inertial>
            <origin xyz="${x} .0 0.08" rpy="0.0 0.0 0.0"/>
            <mass value="0.5"/>
            <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
        </inertial>
        <visual name="">
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://quadriped_robot_simulation/meshes/lower_leg_v2_${side}_side.STL" scale="2 2 2"/>
            </geometry>
            <material name="black">
            <color rgba=".0 .0 1.0 1.0"/>
        </material>
        </visual>
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://quadriped_robot_simulation/meshes/lower_leg_v2_${side}_side.STL" scale="2 2 2"/>
            </geometry>
        </collision>
    </link>

    <joint name="${position}_lower_leg_${side}" type="continuous">
        <origin xyz="${x} .0 ${z}" rpy="0 0.0 0.0"/>
        <parent link="${position}_upper_leg_${side}"/>
        <child link="${position}_lower_leg_${side}"/>
        <axis xyz=".0 .0 1.0"/>
    </joint>

</xacro:macro>

<!-- left  front -->
<xacro:upper_leg x="-0.1046" z="0.32" side="left" position="front"/>
<xacro:lower_leg x="-0.14205" z="0.16" side="left" position="front"/>

<!-- left  back -->
<xacro:upper_leg x="-0.1046" z="0.32" side="left" position="back"/>
<xacro:lower_leg x="-0.14205" z="0.16" side="left" position="back"/>

<!-- right  front -->
<xacro:upper_leg x="-0.1046" z="0.32" side="right" position="front"/>
<xacro:lower_leg x="-0.14205" z="0.16" side="right" position="front"/>

<!-- right  back -->
<xacro:upper_leg x="-0.1046" z="0.32" side="right" position="back"/>
<xacro:lower_leg x="-0.14205" z="0.16" side="right" position="back"/>

</robot>
